.. _nl20240415:

News - 2024-04-15
=================

Hello everyone! We are publishing this month's newsletter a bit later than usual due to the recent festivities. We hope you all enjoyed a lovely Easter break and a happy Eid Mubarak.

**In this issue:**

- We share some of the highlights from our recent :ref:`**Research IT Forum** <research_it_forum>` event. 
- Storage Options Update: Learn about :ref:`available storage solutions <storage_options>` in light of new Google Drive policies. 
- **Expansion of the HPC Team:** Keep an eye out for our newest team members, Angie and Becki who will be with us for the spring season.

.. _research_it_forum:

Research Computing @ Sheffield conference
-----------------------------------------

Our annual Research Computing at Sheffield conference, was held on April 9th. It provided an excellent opportunity to celebrate and showcase the groundbreaking research projects taking place on HPC. A huge thank you to all the speakers and attendees who contributed to making this year's forum a success. For those who missed it, you can find all the `presentation slides here <https://drive.google.com/drive/folders/1YPctycoYDaxZX4aqAqdCiQYQD9lgAtq_?usp=sharing>`_ . 

Also, a special thank you to Desmond Ryan and Carl Kennedy who were the key organisers this year.

.. _storage_options:

Storage Options
---------------

Research Storage
++++++++++++++++

Recently,  you may have been contacted about the introduction of 15 GB quotas for personal Google Drives and 30 GB quotas for Google Shared Drives. These quotas have been introduced at the University of Sheffield following changes to Google's pricing for Google Drive. `More information on these changes <https://staff.sheffield.ac.uk/it-services/storage/google-data-cap-project>`_ .

To reduce Google personal and shared Drive usage to below the quota limits users may want/need to:

- Delete any data that is no longer needed from their google drive.
- Migrate to our research storage solution (X-Drive), which offers up to 10TB of storage for research groups. This offers a secure, encrypted and backed up option to meet any Data storage and GDPR needs.  With access control it also facilitates collaboration and file-sharing among teams and accessible from any device that is connected to the university's VPN. Additionally, research storage can be made available on both Stanage and Bessemer upon request. It should also offer a performance boost over google drives, for users on campus or geographically close to Sheffield.
- Learn more about requesting or using research storage `here <https://students.sheffield.ac.uk/it-services/research/storage>`_ (You will need to be logged in, to access the page).

Lustre filesystems
++++++++++++++++++

You are likely aware that the :ref:`Stanage and Bessemer systems <fastdata_dir>` contain a large Lustre parallel filesystem.

- /mnt/parscratch on Stanage
- /fastdata on Bessemer

We would like to draw your attention to several characteristics of these Lustre filesystems

- They provide lots of temporary storage with no quotas;
- They are not backed up;
- They offer good performance when working with larger files than e.g. home directories - Lustre performance scales well with the number of filesystem clients, plus on Stanage connections to
- Lustre are via high-bandwidth (100 Gbps), low-latency network links;
- They perform poorly when working with lots of small files (e.g. files only a few kB in size) (see this `blog post <https://walkingrandomly.com/?p=6167>`_ ). Even just enumerating or deleting millions of files from a Lustre filesystem can take days;
- They perform poorly when you have a large number (>1000) of files or directories within a directory.
 
Recommendations:

- Do not use these Lustre filesystems for long-term storage
- Prefer to work with larger files where possible. For example can you combine output data within one large HDF5 file instead of creating lots of small text files?
- Try to limit the number of files or directories within a directory.
- If using interative workflows e.g. machine learning or fluid dynamics software then consider outputting data to Lustre less frequently than every time/simulation step e.g. every 1000 steps.
- If you have concerns about how many files your workflow might create on Lustre then consider running some short tests before launching big jobs.




New Packages and software
--------------------------

Check out the latest additions:

- :ref:`Apptainer  <apptainer_bessemer>` version 1.3.0 on Bessemer. This shouldn't result in any significant user-facing changes but please let us know if you notice any behaviour or significant performance changes, particularly relating to filesystem performance.
- :ref:`Nextflow  <nextflow_stanage>` version 23.10.0 on Stanage


JADE2 has now been upgraded from RHEL 7.x to RHEL 8.9. Its NVIDIA libraries and tools have also been upgraded too. 


For users using Pytorch with the GPUs in Stanage, using a newer Pytorch container (24.02 rather than 23.07) should fix a bug which made the H100 GPUs  slower than the A100 GPUs. You should see an almost 50% performance boost between the two Pytorch versions as discovered by the benchmarks Peter Heywood in the `RSE team <https://rse.shef.ac.uk/>`_ ran. Performance on the A100 stays the same.

.. figure:: /images/newsletter/pytorch2402_benchmarks.png
    :width: 90%
    :align: center
    :alt: Pytorch 24.02 vs 23.07

    Pytorch 24.02 vs 23.07



.. _upcoming_training2:

Upcoming Training
-----------------

Below are our research computing key training dates for April. You can register for these courses and more at  `Research Computing Training <https://sites.google.com/sheffield.ac.uk/research-training/>`_ . 

.. warning::
    For our taught postgraduate users who don't have access to MyDevelopment, please email us at ``researchcomputing@sheffield.ac.uk`` with the course you want to register for, and we should be able to help you.



- Linux - 16/04/2024
- Python Programming 1 - 16/04/2024
- Python Profiling & Optimalisation - 18/04/2024
- Supervised Machine Learning 1 - 19/04/2024
- Introduction to MATLAB 2 - 21/03/2024
- Python Programming 2 - 23/04/2024
- Introduction to R - 25/04/2024
- Deep learning - 25/04/2024 to 26/04/2024 (2 day course)
- Python Programming 3 - 30/04/2024
- Unsupervised Machine Learning 07/05/2024
- Python Profiling & Optimalisation - 09/05/2024
- Temporal Analysis in Python - 10/05/2024


Useful Links
------------

- :ref:`HPC documentation  <hpc-home>`
- :ref:`Citing the HPC services in publications.  <citing>`
- `RSE code clinics <https://rse.shef.ac.uk/support/code-clinic/>`_ . These are fortnightly support sessions run by the RSE team and IT Services' Research IT and support team. They are open to anyone at TUOS writing code for research to get help with programming problems and general advice on best practice.
- `Training and courses <https://sites.google.com/sheffield.ac.uk/research-training/>`_ (You must be logged into the main university website to view).
